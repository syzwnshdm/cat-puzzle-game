<div class="instruction-panel">
  <div class="instructions-container" 
       cdkDropList
       id="instructionList"
       [cdkDropListData]="instructions"
       (cdkDropListDropped)="drop($event)"
       (dragenter)="onDragEnter($event)"
       (dragleave)="onDragLeave($event)">
    <div *ngFor="let instruction of instructions; let i = index" 
         class="instruction"
         [class]="instruction"
         [class.no-transitions]="isDraggingNew"
         cdkDrag
         [cdkDragDisabled]="isDraggingNew"
         [cdkDragData]="instruction"
         (dblclick)="removeInstruction(i)">
      <div class="instruction-content">
        <ng-container *ngIf="instruction === 'turnLeft'">â†°</ng-container>
        <ng-container *ngIf="instruction === 'turnRight'">â†±</ng-container>
        <ng-container *ngIf="instruction === 'moveForward'">ðŸš¶</ng-container>
      </div>
      <!-- Only show placeholder during internal reordering -->
      <div *cdkDragPlaceholder class="instruction-placeholder"
           [style.display]="isDraggingNew ? 'none' : 'flex'"></div>
    </div>
  </div>
  <div class="controls">
    <button class="execute-btn" (click)="executeInstructions()">Execute</button>
    <button class="clear-btn" (click)="clearInstructions()">Clear</button>
  </div>
</div>